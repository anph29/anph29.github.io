
<!DOCTYPE html>
<html lang class="loading">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>19 Bí Kíp Bạn Có Thể Dùng Khi Phạm Sai Lầm Với Git - Code notes &amp; tips</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate">
    <meta name="keywords" content="TriDiamond Obsidian,"> 
    <meta name="description" content="19 Bí Kíp Bạn Có Thể Dùng Khi Phạm Sai Lầm Với GitNhững nội dung sau rất nguy hiểm, nếu bạn làm the,"> 
    <meta name="author" content="Anph"> 
    <link rel="alternative" href="atom.xml" title="Code notes &amp; tips" type="application/atom+xml"> 
    <link rel="icon" href="/img/favicon.png"> 
    <link href="https://fonts.loli.net/css?family=Roboto+Mono|Rubik&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="//at.alicdn.com/t/font_1429596_nzgqgvnmkjb.css">
    <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.7.2/animate.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/css/share.min.css">
    <link rel="stylesheet" href="//cdn.bootcss.com/codemirror/5.48.4/codemirror.min.css">
    <link rel="stylesheet" href="//cdn.bootcss.com/codemirror/5.48.4/theme/dracula.css">
    <link rel="stylesheet" href="/css/obsidian.css">
    <link rel="stylesheet" href="/css/ball-atom.min.css">
</head>
</html>

<body class="loading">
    <div class="loader">
        <div class="la-ball-atom la-2x">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>
    <span id="config-title" style="display:none">Code notes &amp; tips</span>
    <div id="loader"></div>
    <div id="single">
    <div class="scrollbar gradient-bg-rev"></div>
<div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <div class="navigation animated fadeIn fast delay-1s">
        <img id="home-icon" class="icon-home" src="/img/favicon.png" alt data-url="https://anph29.github.io">
        <div id="play-icon" title="Play/Pause" class="iconfont icon-play"></div>
        <h3 class="subtitle">19 Bí Kíp Bạn Có Thể Dùng Khi Phạm Sai Lầm Với Git</h3>
        <div class="social">
            <!--        <div class="like-icon">-->
            <!--            <a href="javascript:;" class="likeThis active"><span class="icon-like"></span><span class="count">76</span></a>-->
            <!--        </div>-->
            <div>
                <div class="share">
                    
                        <a href="javascript:;" class="iconfont icon-share1"></a>
                        <div class="share-component-cc" data-disabled="facebook,douban,linkedin,diandian,tencent,google"></div>
                    
                </div>
            </div>
        </div>
    </div>
</div>

    <div class="section">
        <div class="article-header-wrapper">
    <div class="article-header">
        <div class="article-cover animated fadeIn" style="
            animation-delay: 600ms;
            animation-duration: 1.2s;
            background-image: 
                radial-gradient(ellipse closest-side, rgba(0, 0, 0, 0.65), #100e17),
                url(/img/cover.jpg) ">
        </div>
        <div class="else">
            <p class="animated fadeInDown">
                
                <a href="/categories/git"><b>「
                    </b>GIT<b> 」</b></a>
                
                January 03, 2019
            </p>
            <h3 class="post-title animated fadeInDown"><a href="/2019/01/03/19-Bi-Kip-Ban-Co-The-Dung-Khi-Pham-Sai-Lam-Voi-Git/" title="19 Bí Kíp Bạn Có Thể Dùng Khi Phạm Sai Lầm Với Git">19 Bí Kíp Bạn Có Thể Dùng Khi Phạm Sai Lầm Với Git</a>
            </h3>
            
            <p class="post-count animated fadeInDown">
                
                <span>
                    <b class="iconfont icon-text2"></b> <i>Words count</i>
                    46k
                </span>
                
                
                <span>
                    <b class="iconfont icon-timer__s"></b> <i>Reading time</i>
                    42 mins.
                </span>
                
                
                
                <span id="busuanzi_container_page_pv">
                    <b class="iconfont icon-read"></b> <i>Read count</i>
                    <span id="busuanzi_value_page_pv">0</span>
                </span>
                
            </p>
            
            
            <ul class="animated fadeInDown post-tags-list"><li class="animated fadeInDown post-tags-list-item"><a class="animated fadeInDown post-tags-list-link" href="/tags/git/">git</a></li></ul>
            
        </div>
    </div>
</div>

<div class="screen-gradient-after">
    <div class="screen-gradient-content">
        <div class="screen-gradient-content-inside">
            <div class="bold-underline-links screen-gradient-sponsor">
                <p>
                    <span class="animated fadeIn delay-1s"></span>
                </p>
            </div>
        </div>
    </div>
</div>

<div class="article">
    <div class="main">
        <div class="content markdown animated fadeIn">
            <h1 id="19-Bi-Kip-Ban-Co-The-Dung-Khi-Pham-Sai-Lam-Voi-Git"><a href="#19-Bi-Kip-Ban-Co-The-Dung-Khi-Pham-Sai-Lam-Voi-Git" class="headerlink" title="19 Bí Kíp Bạn Có Thể Dùng Khi Phạm Sai Lầm Với Git"></a>19 Bí Kíp Bạn Có Thể Dùng Khi Phạm Sai Lầm Với Git</h1><p>Những nội dung sau rất nguy hiểm, nếu bạn làm theo, xin hãy chịu trách nhiệm về bản thân mình.</p>
<p>Nếu có gì sai sót, mong bạn hãy chỉ ra để tôi được biết</p>
<p>Ở trên local<br>Có hiệu quả khi làm việc trên môi truờng phát triển của bản thân, không làm ảnh hưởng đến người khác. Khi làm việc trên remote sẽ phát sinh ảnh hưởng đến người khác nên rất nguy hiểm.</p>
<h2 id="Su-co-1：-Khi-trong-commit-message-lo-co-nhung-tu-cam-ki-khien-ban-chi-muon-chet-di-cho-xong"><a href="#Su-co-1：-Khi-trong-commit-message-lo-co-nhung-tu-cam-ki-khien-ban-chi-muon-chet-di-cho-xong" class="headerlink" title="Sự cố 1： Khi trong commit message lỡ có những từ cấm kị khiến bạn chỉ muốn chết đi cho xong"></a>Sự cố 1： Khi trong commit message lỡ có những từ cấm kị khiến bạn chỉ muốn chết đi cho xong</h2><p>Để sửa lại nội dung commit thì rất đơn giản. Cũng có thể thêm được cả file vào trong commit<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git commit --amend</span><br><span class="line"><span class="comment"># Sau lệnh này ta có thể thay đổi nội dung commit message một cách tuỳ ý</span></span><br></pre></td></tr></table></figure></p>
<h2 id="Su-co-2：-Khi-lo-tay-commit-duoi-ten-cua-mot-user-khac"><a href="#Su-co-2：-Khi-lo-tay-commit-duoi-ten-cua-mot-user-khac" class="headerlink" title="Sự cố 2： Khi lỡ tay commit dưới tên của môt user khác"></a>Sự cố 2： Khi lỡ tay commit dưới tên của môt user khác</h2><p>Khi làm việc ở nhà và khi làm việc trên công ty thì hẳn sẽ có lúc sử dung git config khác nhau và cũng có lúc bị nhầm thiết lập.</p>
<p>Ở đây chúng ta đang nói về việc thay đổi tác giả (Author) Hãy đổi Commiter ở <code>.gitconfig</code> hoặc <code>.git/config</code></p>
<p>Khi muốn đổi tên user hoặc email của HEAD</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Hãy sửa lại user.name và user.email</span></span><br><span class="line">$ git commit --amend -m <span class="string">"nội dung commit message"</span> --author=<span class="string">"user.name &lt;user.email&gt;"</span></span><br></pre></td></tr></table></figure>
<p>Trường hợp muốn sửa lại commit từ lâu rồi</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">$ git rebase -i &lt;commit&gt;</span><br><span class="line">====</span><br><span class="line"><span class="comment"># Sau lệnh này sẽ mở ra editor nên hãy sửa lại như sau rồi lưu lại</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># (trước khi sửa) các commit cũ từ trên xuống dưới</span></span><br><span class="line">pick aa11bbc commit message 1</span><br><span class="line">pick b2c3c4d commit message 2</span><br><span class="line">pick 4e56fgh commit message 3</span><br><span class="line">・・・</span><br><span class="line"></span><br><span class="line"><span class="comment"># (Sau khi sửa) Đổi commit cần sửa sang edit</span></span><br><span class="line">edit aa11bbc commit message 1</span><br><span class="line">pick b2c3c4d commit message 2</span><br><span class="line">pick 4e56fgh commit message 3</span><br><span class="line">・・・</span><br><span class="line">====</span><br><span class="line"></span><br><span class="line"><span class="comment"># Sau đó thì sửa tương tự</span></span><br><span class="line">$ git commit --amend -m <span class="string">"commit message"</span> --author=<span class="string">"user.name &lt;user.email&gt;"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Trở lại như cũ</span></span><br><span class="line">$ git rebase --<span class="built_in">continue</span></span><br></pre></td></tr></table></figure>
<p>(NGUY HIỂM) Viết lại toàn bộ lịch sử commit<br>Khi muốn sửa các commit của người dùng (committer) nhất định thì có thể dùng cách sau để sửa</p>
<p>Lịch sử commit sẽ bị thay đổi hoàn toàn</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> </span><br><span class="line">git filter-branch --commit-filter <span class="string">'</span></span><br><span class="line"><span class="string">        if [ "$GIT_COMMITTER_NAME" = "&lt;Old Name&gt;" ];</span></span><br><span class="line"><span class="string">        then</span></span><br><span class="line"><span class="string">                GIT_COMMITTER_NAME="&lt;New Name&gt;";</span></span><br><span class="line"><span class="string">                GIT_AUTHOR_NAME="&lt;New Name&gt;";</span></span><br><span class="line"><span class="string">                GIT_COMMITTER_EMAIL="&lt;New Email&gt;";</span></span><br><span class="line"><span class="string">                GIT_AUTHOR_EMAIL="&lt;New Email&gt;";</span></span><br><span class="line"><span class="string">                git commit-tree "$@";</span></span><br><span class="line"><span class="string">        else</span></span><br><span class="line"><span class="string">                git commit-tree "$@";</span></span><br><span class="line"><span class="string">        fi'</span> HEAD</span><br></pre></td></tr></table></figure>
<h2 id="Su-co-３：-Khi-da-lo-tay-commit-mot-so-file-thua-nhung-sau-khi-nghi-lai-thi-nen-ignore-thi-hon"><a href="#Su-co-３：-Khi-da-lo-tay-commit-mot-so-file-thua-nhung-sau-khi-nghi-lai-thi-nen-ignore-thi-hon" class="headerlink" title="Sự cố ３： Khi đã lỡ tay commit một số file thừa nhưng sau khi nghĩ lại thì nên ignore thì hơn"></a>Sự cố ３： Khi đã lỡ tay commit một số file thừa nhưng sau khi nghĩ lại thì nên ignore thì hơn</h2><p>Trường hợp commit xoá<br>Nếu có những phần thừa thì ta xoá đi rồi thêm vào ignore</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Đầu tiên là xoá các file đã commit khỏi repository</span></span><br><span class="line">$ git rm --cached &lt;tên file&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Sau đó là thêm vào gitignore</span></span><br><span class="line">$ <span class="built_in">echo</span> <span class="string">'&lt;tên file&gt;'</span> &gt;&gt; .gitignore</span><br></pre></td></tr></table></figure>
<p>Trường hợp muốn coi như là chưa từng có file đó<br>Khi mà bạn muốn: “Hả, file nào cơ, là gì có file nào như thế ?”</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Trường hợp chỉ xoá khỏi lịch sử commit （để lại ở working tree）</span></span><br><span class="line">$ git filter-branch -f --index-filter <span class="string">'git rm --cached -rf --ignore-unmatch &lt;tên file&gt;'</span> HEAD</span><br><span class="line"></span><br><span class="line"><span class="comment"># Trường hợp xoá khỏi lịch sử commit và cả ở working tree</span></span><br><span class="line">$ git filter-branch -f --index-filter <span class="string">'git rm -rf --ignore-unmatch &lt;tên file&gt;'</span> HEAD</span><br></pre></td></tr></table></figure>
<h2 id="Su-co-4：-Khi-ma-ten-branh-ban-dat-qua-la-“chuoi”"><a href="#Su-co-4：-Khi-ma-ten-branh-ban-dat-qua-la-“chuoi”" class="headerlink" title="Sự cố 4： Khi mà tên branh bạn đặt quá là “chuối”"></a>Sự cố 4： Khi mà tên branh bạn đặt quá là “chuối”</h2><p>Nếu không ai nhìn thấy thì ta “bí mật” sửa lại tên branch thôi nào !<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git branch -m &lt;tên branch sau khi đổi&gt;</span><br></pre></td></tr></table></figure></p>
<h2 id="Su-co-5：-Khi-trong-phut-nong-noi-ban-lo-commit-va-gio-muon-commit-do-bien-mat"><a href="#Su-co-5：-Khi-trong-phut-nong-noi-ban-lo-commit-va-gio-muon-commit-do-bien-mat" class="headerlink" title="Sự cố 5： Khi trong phút nông nổi bạn lỡ commit và giờ muốn commit đó biến mất"></a>Sự cố 5： Khi trong phút nông nổi bạn lỡ commit và giờ muốn commit đó biến mất</h2><p>Không để cho ai biết （＝ người khác vẫn chưa pull về）<br>Sửa lại phần lịch sử commit ngay trước đó<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Tuỳ vào từng trường hợp mà ta có 3 cách sau để đưa lịch sử commit về như cũ</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1. Chỉ đưa HEAD về như cũ</span></span><br><span class="line">$ git reset --soft HEAD~</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. Đưa HEAD và index về như cũ</span></span><br><span class="line">$ git reset HEAD~</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. Đưa cả index, working tree về 1 commit trước đó</span></span><br><span class="line">$ git reset --hard HEAD~</span><br><span class="line">``` </span><br><span class="line">Trường hợp đã bị ai đó phát hiện（＝ người khác đã pull về）</span><br><span class="line">Nếu thay đổi lịch sử commit sẽ dẫn đến tình trạng lộn xộn nên ta cầm dùng commit xoá để giải quyết</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">``` bash</span><br><span class="line">$ git revert &lt;commit&gt;</span><br></pre></td></tr></table></figure></p>
<h2 id="Su-co-6：-Khi-muon-tong-hop-nhung-commit-vun-vat-truoc-day-thanh-mot-commit"><a href="#Su-co-6：-Khi-muon-tong-hop-nhung-commit-vun-vat-truoc-day-thanh-mot-commit" class="headerlink" title="Sự cố 6： Khi muốn tổng hợp những commit vụn vặt trước đây thành một commit"></a>Sự cố 6： Khi muốn tổng hợp những commit vụn vặt trước đây thành một commit</h2><p>Sử dụng rebase + squash (or fixup) để tổng hợp lại các commit cũ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Rebase về n commit trước (có bao gồm cả HEAD)</span></span><br><span class="line"><span class="comment"># Ví dụ) git rebase -i HEAD~3</span></span><br><span class="line">$ git rebase -i HEAD~&lt;số lượng commit&gt;</span><br><span class="line"></span><br><span class="line">====</span><br><span class="line"><span class="comment"># Sau lệnh này sẽ mở ra editor nên hãy sửa lại như sau rồi lưu lại</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># (trước khi sửa) các commit cũ từ trên xuống dưới</span></span><br><span class="line">pick aa11bbc commit message 1</span><br><span class="line">pick b2c3c4d commit message 2</span><br><span class="line">pick 4e56fgh commit message 3</span><br><span class="line">・・・</span><br><span class="line"></span><br><span class="line"><span class="comment"># (sau khi sửa) các commit trước là squash sẽ được tổng hợp vào 1 commit ở đằng trước</span></span><br><span class="line">pick aa11bbc commit message 1</span><br><span class="line">squash b2c3c4d commit message 2</span><br><span class="line">squash 4e56fgh commit message 3</span><br><span class="line">・・・</span><br><span class="line">====</span><br></pre></td></tr></table></figure>
<p>Thay vì dùng squash có thể dùng fixup nhưng khi đó commit message của những commit được fixup sẽ bị mất</p>
<h2 id="Su-co-７：-Khi-ban-muon-chia-commit-to-thanh-nhung-commit-nho-hon-mot-cach-thong-minh"><a href="#Su-co-７：-Khi-ban-muon-chia-commit-to-thanh-nhung-commit-nho-hon-mot-cach-thong-minh" class="headerlink" title="Sự cố ７： Khi bạn muốn chia commit to thành những commit nhỏ hơn một cách thông minh"></a>Sự cố ７： Khi bạn muốn chia commit to thành những commit nhỏ hơn một cách thông minh</h2><p>Ở mục 6, tuy tổng hợp lại là tốt nhưng khi tổng hợp quá nhiều cũng sẽ trở thành vấn đề Rất tiện khi mà những commit chức năng bị lẫn vào những commit sửa bug</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Đây là việc không làm sau khi đã push code lên remote</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Đầu tiên là đưa HEAD và index về 1 commit trước đó</span></span><br><span class="line"><span class="comment"># Nói cách khác là ta coi như là chưa từng có commit to đùng kia và chỉ giữ lại trạng thái của working tree</span></span><br><span class="line">$ git reset HEAD~</span><br><span class="line"></span><br><span class="line"><span class="comment"># Dùng lệnh sau đây để thêm (y) hoặc không thêm (n) các phần nhỏ (=hunk) vào index</span></span><br><span class="line"><span class="comment"># Nếu các phần nhỏ đó vẫn chưa đủ nhỏ thì dùng (s) để tiếp tục chia nhỏ hơn （Chi tiết của git add -p thì hãy hỏi anh Google nhé）</span></span><br><span class="line">$ git add -p</span><br><span class="line"></span><br><span class="line"><span class="comment"># Khi các phần cần thay đổi đã có thì ta commit</span></span><br><span class="line">$ git commit -m <span class="string">"commit message"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Sau đó ta lặp đi lặp lại các bước như trên cho phần còn lại</span></span><br></pre></td></tr></table></figure>
<h2 id="Su-co-８：-Khi-lo-tay-commit-nham-sang-mot-branch-khac"><a href="#Su-co-８：-Khi-lo-tay-commit-nham-sang-mot-branch-khac" class="headerlink" title="Sự cố ８： Khi lỡ tay commit nhầm sang một branch khác"></a>Sự cố ８： Khi lỡ tay commit nhầm sang một branch khác</h2><p>Có những lúc ta sơ suất lỡ tay commit thẳng vào master trong khi thực ra là muốn commit vào một branch khác</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Đầu tiên là tạo một branch khác chứa trạng thái mà ta đã commit</span></span><br><span class="line">$ git branch other-branch</span><br><span class="line"></span><br><span class="line"><span class="comment"># Đưa HEAD, index của master về 1 commit trước đó</span></span><br><span class="line">$ git reset --hard HEAD~</span><br><span class="line"></span><br><span class="line"><span class="comment"># Check out sang branch có commit trước đó</span></span><br><span class="line">$ git checkout other-branch</span><br></pre></td></tr></table></figure>
<h2 id="Su-co-９：-Khi-muon-xoa-hoan-toan-cac-file-khong-can-thiet"><a href="#Su-co-９：-Khi-muon-xoa-hoan-toan-cac-file-khong-can-thiet" class="headerlink" title="Sự cố ９： Khi muốn xoá hoàn toàn các file không cần thiết"></a>Sự cố ９： Khi muốn xoá hoàn toàn các file không cần thiết</h2><p>Có những lúc ta muốn 1 phát xoá tất tần tật những file tự động sinh ra hoặc những file tự động back up. Nếu không phải là những file cần git quản lý hoặc những file sẽ commit thì xoá đi thôi. Ơ mà cái này cũng ko phải là sự cố nhỉ…</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Đầu tiên là add＆commit tất cả những thứ cần thiết lại</span></span><br><span class="line"><span class="comment"># Nếu không làm như thế này thì những file này cũng bị xoá mất đó</span></span><br><span class="line">$ git add &lt;file cần commit&gt;</span><br><span class="line">$ git commit -m <span class="string">"commit message"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Dùng git stash để sơ tán cả những file untracked</span></span><br><span class="line">$ git stash -u</span><br><span class="line"></span><br><span class="line"><span class="comment"># drop các thứ đã stash để xoá đi</span></span><br><span class="line">$ git stash drop</span><br></pre></td></tr></table></figure>
<p>Tiện đây thì trong trường hợp chỉ là những file mà git không quản lý thì chỉ như sau là OK</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Kiểm tra lại các file sẽ xoá cho chắc</span></span><br><span class="line">$ git clean -n</span><br><span class="line"></span><br><span class="line"><span class="comment"># Tiến hành xoá bỏ</span></span><br><span class="line">$ git clean -f</span><br></pre></td></tr></table></figure>
<h2 id="Su-co-10：-Khi-tam-thoi-can-tam-dung-cong-viec-hien-tai-va-chuyen-sang-mot-branch-khac"><a href="#Su-co-10：-Khi-tam-thoi-can-tam-dung-cong-viec-hien-tai-va-chuyen-sang-mot-branch-khac" class="headerlink" title="Sự cố 10： Khi tạm thời cần tạm dừng công việc hiện tại và chuyển sang một branch khác"></a>Sự cố 10： Khi tạm thời cần tạm dừng công việc hiện tại và chuyển sang một branch khác</h2><p>Tuy mình không xấu nhưng có những lúc cần phải tạm dừng công việc để làm việc khác</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Tạm thời lưu lại các phần công việc còn đang làm dở</span></span><br><span class="line">$ git stash -u</span><br><span class="line"></span><br><span class="line"><span class="comment"># Chuyển sang một branch khác và làm việc</span></span><br><span class="line">$ git checkout -b other-branch</span><br><span class="line">~làm việc, làm việc, làm việc~</span><br><span class="line">$ git add &lt;các file cần thiết&gt;</span><br><span class="line">$ git commit -m <span class="string">"commit message"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Trở về branch cũ</span></span><br><span class="line">$ git checkout origin-branch</span><br><span class="line"></span><br><span class="line"><span class="comment"># Lấy lại các nội dung công việc đang làm dở trước đó</span></span><br><span class="line">$ git stash pop</span><br></pre></td></tr></table></figure>
<h2 id="Su-co-11：Khi-lo-tay-xoa-mat-mot-commit-cuc-ki-cuc-ki-quan-trong"><a href="#Su-co-11：Khi-lo-tay-xoa-mat-mot-commit-cuc-ki-cuc-ki-quan-trong" class="headerlink" title="Sự cố 11：Khi lỡ tay xoá mất một commit cực kì cực kì quan trọng"></a>Sự cố 11：Khi lỡ tay xoá mất một commit cực kì cực kì quan trọng</h2><p>Đây hẳn là sự cố khủng khiếp nhất. Có thể xảy ra khi lỡ tay git reset –hard Tuy nhiên, commit nào cũng có thể hồi phục được</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Đầu tiên là xem lại toàn bộ lịch sử commit</span></span><br><span class="line">$ git reflog </span><br><span class="line"></span><br><span class="line"><span class="comment"># Từ đó chọn commit muốn phục hồi và khôi phục lại</span></span><br><span class="line"><span class="comment"># ví dụ）git reset --hard HEAD@&#123;2&#125;</span></span><br><span class="line">$ git reset --hard &lt;commit&gt;</span><br></pre></td></tr></table></figure>
<h2 id="Su-co-12：-Khi-lo-tay-xoa-mat-branch-va-muon-lay-lai"><a href="#Su-co-12：-Khi-lo-tay-xoa-mat-branch-va-muon-lay-lai" class="headerlink" title="Sự cố 12： Khi lỡ tay xoá mất branch và muốn lấy lại"></a>Sự cố 12： Khi lỡ tay xoá mất branch và muốn lấy lại</h2><p>Nếu vẫn còn reflog thì không có sao. Vẫn có thể hồi phục lại được Nếu commit lên một branch không tên, sau đó check out sang một branch khác bị xoá mất thì cũng tương tự</p>
<p>Tương tự giống như sự cố 13 dưới đây<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Đầu tiên là xem lại toàn bộ lịch sử commit</span></span><br><span class="line">$ git reflog</span><br><span class="line"></span><br><span class="line"><span class="comment"># Từ các commit này, chọn rồi tạo branch mới</span></span><br><span class="line"><span class="comment"># ví dụ）git branch new-branch HEAD@&#123;2&#125;</span></span><br><span class="line">$ git branch &lt;tên branch&gt; &lt;commit&gt;</span><br></pre></td></tr></table></figure></p>
<h2 id="Su-co-13-Khi-muon-thay-doi-mot-phan-noi-dung-commit"><a href="#Su-co-13-Khi-muon-thay-doi-mot-phan-noi-dung-commit" class="headerlink" title="Sự cố 13: Khi muốn thay đổi một phần nội dung commit"></a>Sự cố 13: Khi muốn thay đổi một phần nội dung commit</h2><p>Khi có những typo nhỏ và muốn chỉnh sửa thì ko cần thiết phải tạo commit mới để sửa mà hãy tiến hành sửa lại luôn</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Chỉ định commit muốn sửa lại</span></span><br><span class="line">$ git rebase -i &lt;commit&gt;</span><br><span class="line"></span><br><span class="line">====</span><br><span class="line"><span class="comment"># Sau lệnh này sẽ mở ra editor nên hãy sửa lại như sau rồi lưu lại</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># (trước khi sửa) các commit cũ từ trên xuống dưới</span></span><br><span class="line">pick aa11bbc commit message 1</span><br><span class="line">pick b2c3c4d commit message 2</span><br><span class="line">pick 4e56fgh commit message 3</span><br><span class="line">・・・</span><br><span class="line"></span><br><span class="line"><span class="comment"># (Sau khi sửa) Đổi commit cần sửa sang edit</span></span><br><span class="line">edit aa11bbc commit message 1</span><br><span class="line">pick b2c3c4d commit message 2</span><br><span class="line">pick 4e56fgh commit message 3</span><br><span class="line">・・・</span><br><span class="line">====</span><br><span class="line"></span><br><span class="line"><span class="comment"># Commit cần sửa sẽ được khai triển working tree nên ta chỉ cần sửa rồi sau đó add lại</span></span><br><span class="line">$ git add &lt;tên file&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Sửa lại commit</span></span><br><span class="line">$ git commit --amend</span><br><span class="line"></span><br><span class="line"><span class="comment"># Hoàn tất rebase để trở lại như cũ</span></span><br><span class="line">$ git rebase --<span class="built_in">continue</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Khi muốn huỷ bỏ rebase</span></span><br><span class="line">$ git rebase --abort</span><br></pre></td></tr></table></figure>
<h2 id="Su-co-14-Khi-co-conflict-trong-qua-trinh-rebase"><a href="#Su-co-14-Khi-co-conflict-trong-qua-trinh-rebase" class="headerlink" title="Sự cố 14: Khi có conflict trong quá trình rebase"></a>Sự cố 14: Khi có conflict trong quá trình rebase</h2><p>Khi không merge mà tiến hành rebase thì nếu có conflict, chắc hẳn là hoảng loạn rồi</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Khi đang ở branch1 rồi rebase từ branch2 vào</span></span><br><span class="line">$ git rebase branch2</span><br><span class="line"></span><br><span class="line">~~ Phát sinh conflict ~~</span><br><span class="line"></span><br><span class="line"><span class="comment"># Sẽ trở thành branch không tên nền cần phải chú ý</span></span><br><span class="line">$ git branch</span><br><span class="line"></span><br><span class="line">* (no branch, rebasing branch2)</span><br><span class="line">  branch1</span><br><span class="line">  branch2</span><br><span class="line">  master</span><br><span class="line"></span><br><span class="line"><span class="comment"># Hãy cố gắng giải quyết các conflict</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Sau khi hoàn thành, ta add rồi tiến hành rebase</span></span><br><span class="line">$ git add &lt;tên file&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Thay đổi commit</span></span><br><span class="line">$ git commit --amend</span><br><span class="line"></span><br><span class="line">$ git rebase --<span class="built_in">continue</span></span><br></pre></td></tr></table></figure>
<h2 id="Su-co-15-Khi-da-merge-nhung-lai-muon-tro-lai-nhu-luc-truoc"><a href="#Su-co-15-Khi-da-merge-nhung-lai-muon-tro-lai-nhu-luc-truoc" class="headerlink" title="Sự cố 15: Khi đã merge nhưng lại muốn trở lại như lúc trước"></a>Sự cố 15: Khi đã merge nhưng lại muốn trở lại như lúc trước</h2><p>Chỉ cho trường hợp mà người khác vẫn chưa pull code về<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># tiến hành merge</span></span><br><span class="line">$ git checkout &lt;tên brach nguồn&gt;</span><br><span class="line">$ git merge &lt;tên branch muốn merge&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Sau khi merge, nhưng lại muốn trở lại như trước thì làm như sau</span></span><br><span class="line"><span class="comment"># Nếu chỉ định là ORIG_HEAD thì có thể trở lại trạng thái trước khi merge</span></span><br><span class="line">$ git reset --hard ORIG_HEAD</span><br></pre></td></tr></table></figure></p>
<h1 id="O-tren-Remote"><a href="#O-tren-Remote" class="headerlink" title="Ở trên Remote"></a>Ở trên Remote</h1><h2 id="Su-co-16-Khi-pull-tu-remote-ve-thi-co-qua-nhieu-conflict-nen-tam-thoi-muon-tro-lai-nhu-cu"><a href="#Su-co-16-Khi-pull-tu-remote-ve-thi-co-qua-nhieu-conflict-nen-tam-thoi-muon-tro-lai-nhu-cu" class="headerlink" title="Sự cố 16: Khi pull từ remote về thì có quá nhiều conflict nên tạm thời muốn trở lại như cũ"></a>Sự cố 16: Khi pull từ remote về thì có quá nhiều conflict nên tạm thời muốn trở lại như cũ</h2><p>Sau khi pull code về cập nhật nhưng thấy conflict nhiều như núi thì quả là muốn trở lại như cũ Gần giống như sự cố 15</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Lấy từ code mới remote</span></span><br><span class="line">$ git pull origin master</span><br><span class="line"></span><br><span class="line"><span class="comment"># Phát sinh conflict</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Suy nghĩ lại thì trong pull(fetch + merge) muốn bỏ phần merge đi</span></span><br><span class="line">$ git reset --hard ORIG_HEAD</span><br></pre></td></tr></table></figure>
<h2 id="Su-co-17-Lo-tay-push-force-len-master-tren-remote"><a href="#Su-co-17-Lo-tay-push-force-len-master-tren-remote" class="headerlink" title="Sự cố 17: Lỡ tay push force lên master trên remote"></a>Sự cố 17: Lỡ tay push force lên master trên remote</h2><p>Việc push -f lên origin/master là việc bị cấm Tuy nhiên thì thỉnh thoảng vẫn có một số người làm…</p>
<p>Ta sẽ sửa lại như sau</p>
<p>Trường hợp chỉ cần push về 1 commit trước đó</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Cái này ko được làm đâu nhé, push force</span></span><br><span class="line">$ git commit -m <span class="string">"commit message"</span></span><br><span class="line">$ git push -f origin master</span><br><span class="line"></span><br><span class="line"><span class="comment"># Nếu là một công ty nghiêm túc thì đến đây chắc chắn sẽ nổi giận đấy</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Nếu muốn đưa về 1 commit tước đó thì làm như sau</span></span><br><span class="line">$ git push -f origin HEAD~:master</span><br></pre></td></tr></table></figure>
<p>Nếu trên local cũng muốn như vậy thì tiến hành reset cũng tốt<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git reset HEAD~</span><br><span class="line">$ git push -f origin master</span><br></pre></td></tr></table></figure></p>
<p>Nếu muốn xoá đi vài commit trước đó</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Cái này ko được làm đâu nhé, push force</span></span><br><span class="line">$ git commit -m <span class="string">"commit message"</span></span><br><span class="line">$ git push -f origin master</span><br><span class="line"></span><br><span class="line"><span class="comment"># Khi bị mắng và muốn trở về như cũ thì</span></span><br><span class="line">$ git rebase -i &lt;commit muốn rebase về&gt;</span><br><span class="line"></span><br><span class="line">====</span><br><span class="line"><span class="comment"># Sau lệnh này sẽ mở ra editor nên hãy sửa lại như sau rồi lưu lại</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># (trước khi sửa) các commit cũ từ trên xuống dưới</span></span><br><span class="line">pick aa11bbc commit message 1</span><br><span class="line">pick b2c3c4d commit message 2</span><br><span class="line">・・・</span><br><span class="line"></span><br><span class="line"><span class="comment"># (Sau khi sửa) Xoá các commit không cần thiết đi</span></span><br><span class="line">pick b2c3c4d commit message 2</span><br><span class="line"></span><br><span class="line">・・・</span><br><span class="line">====</span><br><span class="line"></span><br><span class="line"><span class="comment"># push force lại một lần nữa</span></span><br><span class="line">$ git push -f origin master</span><br></pre></td></tr></table></figure>
<h2 id="Su-co-18-Sau-khi-release-phat-hien-thay-co-bug-va-muon-tro-ve-nhu-cu"><a href="#Su-co-18-Sau-khi-release-phat-hien-thay-co-bug-va-muon-tro-ve-nhu-cu" class="headerlink" title="Sự cố 18: Sau khi release phát hiện thấy có bug và muốn trở về như cũ"></a>Sự cố 18: Sau khi release phát hiện thấy có bug và muốn trở về như cũ</h2><p>Do phát sinh thiệt hại nên những thứ đã merge và maste cần phải chuyển tạm thời về như cũ Tuy nhiên không thể revert từng commit 1 nếu có nhiều commit<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Kiểm tra commit log</span></span><br><span class="line">$ git <span class="built_in">log</span> --oneline --graph</span><br><span class="line"></span><br><span class="line">====</span><br><span class="line">*   1x3y5z7 - Merge pull request <span class="comment">#4 from develop</span></span><br><span class="line">|\</span><br><span class="line">| * a2b45c7 - (develop) commit 3</span><br><span class="line">* | dbc65f4 - commit 2</span><br><span class="line">* | f0b0a91 - commit 1</span><br><span class="line"><span class="comment"># Chỉ định điểm muốn revert về (Cơ bản 1 là OK)</span></span><br><span class="line">====</span><br><span class="line"></span><br><span class="line"><span class="comment"># Nếu merge develop vào master thì chỉ định master sẽ là １、develop là ２ rồi revert</span></span><br><span class="line"><span class="comment"># Ví dụ）git revert -m 1 1x3y5z7</span></span><br><span class="line">$ git revert -m 1 commit merge&gt;</span><br></pre></td></tr></table></figure></p>
<p>Nếu vẫn chưa có ai kéo phần code này về thì có thể làm đươc cả những việc sau nữa（Cái này nguy hiểm）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Trở về trạng thái trước khi merge</span></span><br><span class="line">$ git reset ORIG_HEAD</span><br><span class="line"></span><br><span class="line"><span class="comment"># PUSH FORCE</span></span><br><span class="line">$ git push -f origin master</span><br></pre></td></tr></table></figure>
<h2 id="Su-co-19：Khi-sau-khi-chuyen-lai-va-da-commit-them-mot-so-commit-moi-nhung-khong-the-merge-lai-duoc"><a href="#Su-co-19：Khi-sau-khi-chuyen-lai-va-da-commit-them-mot-so-commit-moi-nhung-khong-the-merge-lai-duoc" class="headerlink" title="Sự cố 19：Khi sau khi chuyển lại và đã commit thêm một số commit mới nhưng không thể merge lại được"></a>Sự cố 19：Khi sau khi chuyển lại và đã commit thêm một số commit mới nhưng không thể merge lại được</h2><p>Ở sự cố 18, khi đã xoá bỏ merge, tiến hành chỉnh sửa nhưng merge lại không được</p>
<p>commit revert không có nghĩa là sẽ ko còn commit merge nữa mà là làm ngược lại những việc mà commit merge làm</p>
<p>Thế nên, khi merge lại thì cần phải revert lại commit revert</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># Tiếp tục của sự cố 18</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Thêm commit vào develop branch</span></span><br><span class="line">$ git checkout develop</span><br><span class="line">$ git commit -m <span class="string">"commit message"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Checkout sang master</span></span><br><span class="line">$ git checkout master</span><br><span class="line"></span><br><span class="line"><span class="comment"># revert lại commit revert</span></span><br><span class="line">$ git revert &lt;commit revert&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># merge develop</span></span><br><span class="line">$ git merge develop</span><br><span class="line">``` </span><br><span class="line"> </span><br><span class="line">Khi muốn thử những điều trên ở một môi trường an toàn thì…</span><br><span class="line">Đúng là nếu chưa quen mà tự nhiên lại thực hành luôn thì rất vất vả.</span><br><span class="line"></span><br><span class="line">Những ai đã có sản phầm thì có thể <span class="built_in">clone</span> về và dùng cái đó để <span class="built_in">test</span> thử</span><br><span class="line"></span><br><span class="line">Nếu thế thì cho dù có bị thất bại thì cũng không gây ảnh hưởng gì đến môi trường làm việc chính.</span><br><span class="line"></span><br><span class="line">Những ai chưa có sản phẩm có thể lên Github, tìm hiếm 1 repo nào đó nổi tiếng, <span class="built_in">clone</span> về rồi thực hành</span><br><span class="line"></span><br><span class="line">Tuy nhiên cần chú ý 1 điều là những cái này chỉ được thử ở trên môi trường <span class="built_in">local</span> thôi nhé</span><br><span class="line"></span><br><span class="line">Nếu muốn thử cả ở trên remote nữa thì có thể chuẩn bị sẵn môi trường <span class="built_in">test</span> trên Github, <span class="built_in">clone</span> về rồi thử</span><br><span class="line"></span><br><span class="line">Hình dung cơ bản như sau</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">``` bash</span><br><span class="line"><span class="comment"># git clone về</span></span><br><span class="line">$ git <span class="built_in">clone</span> &lt;URL của repository&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Thử nghiệm trên local</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Kiểm tra remote hiện tại</span></span><br><span class="line">$ git remote -v</span><br><span class="line"></span><br><span class="line"><span class="comment"># Xoá remote đã đăng ký</span></span><br><span class="line">$ git remote rm origin</span><br><span class="line"></span><br><span class="line"><span class="comment"># Tạo remote đã được chuẩn bị sẵn cho test ở Github và thay đổi lại remote</span></span><br><span class="line">$ git remote add origin &lt;URL của repository mới&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Sau đó là thử nghiệm trêm remote</span></span><br></pre></td></tr></table></figure>
<p> Đây là bài viết được copy từ: <a href="https://techtalk.vn/19-bi-kip-ban-co-the-dung-khi-pham-sai-lam-voi-git.html" target="_blank" rel="noopener">techtalk</a> với mục đích note nhai dần không có ý ăn cắp! :D</p>

            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls" data-autoplay="false">
                <source type="audio/mpeg" src>
            </audio>
            
            <ul id="audio-list" style="display:none">
                
                
                <li title="0" data-url="/statics/chengdu.mp3"></li>
                
                    
            </ul>
            
            
            
    <div id="gitalk-container" class="comment link" data-ae="true" data-ci="ec894e2b66f752e8b7fb" data-cs="3ccc2e92bb350688fe2c2dc2930189b62622bfb1" data-r="blog-comments" data-o="TriDiamond" data-a="TriDiamond" data-d>Comments</div>


            
            
        </div>
        <div class="sidebar">
            <div class="box animated fadeInRight">
                <div class="subbox">
                    <img src="https://res.cloudinary.com/tridiamond/image/upload/v1573019751/TriDiamond_logo_ui_xeublz.jpg" height="300" width="300">
                    <p>Anph</p>
                    <span>Think like an artist, develop like an artisan</span>
                    <dl>
                        <dd><a href="https://github.com/TriDiamond" target="_blank"><span class=" iconfont icon-github"></span></a></dd>
                        <dd><a href="https://twitter.com/TriDiamond6" target="_blank"><span class=" iconfont icon-twitter"></span></a></dd>
                        <dd><a href="https://stackoverflow.com/users/7602324/tridiamond?tab=profile" target="_blank"><span class=" iconfont icon-stack-overflow"></span></a></dd>
                    </dl>
                </div>
                <ul>
                    <li><a href="/">26 <p>Articles</p></a></li>
                    <li><a href="/categories">11 <p>Categories</p></a></li>
                    <li><a href="/tags">13 <p>Tags</p></a></li>
                </ul>
            </div>
            
            
            
            <div class="box sticky animated fadeInRight faster">
                <div id="toc" class="subbox">
                    <h4>Contents</h4>
                    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#19-Bi-Kip-Ban-Co-The-Dung-Khi-Pham-Sai-Lam-Voi-Git"><span class="toc-number">1.</span> <span class="toc-text">19 Bí Kíp Bạn Có Thể Dùng Khi Phạm Sai Lầm Với Git</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Su-co-1：-Khi-trong-commit-message-lo-co-nhung-tu-cam-ki-khien-ban-chi-muon-chet-di-cho-xong"><span class="toc-number">1.1.</span> <span class="toc-text">Sự cố 1： Khi trong commit message lỡ có những từ cấm kị khiến bạn chỉ muốn chết đi cho xong</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Su-co-2：-Khi-lo-tay-commit-duoi-ten-cua-mot-user-khac"><span class="toc-number">1.2.</span> <span class="toc-text">Sự cố 2： Khi lỡ tay commit dưới tên của môt user khác</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Su-co-３：-Khi-da-lo-tay-commit-mot-so-file-thua-nhung-sau-khi-nghi-lai-thi-nen-ignore-thi-hon"><span class="toc-number">1.3.</span> <span class="toc-text">Sự cố ３： Khi đã lỡ tay commit một số file thừa nhưng sau khi nghĩ lại thì nên ignore thì hơn</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Su-co-4：-Khi-ma-ten-branh-ban-dat-qua-la-“chuoi”"><span class="toc-number">1.4.</span> <span class="toc-text">Sự cố 4： Khi mà tên branh bạn đặt quá là “chuối”</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Su-co-5：-Khi-trong-phut-nong-noi-ban-lo-commit-va-gio-muon-commit-do-bien-mat"><span class="toc-number">1.5.</span> <span class="toc-text">Sự cố 5： Khi trong phút nông nổi bạn lỡ commit và giờ muốn commit đó biến mất</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Su-co-6：-Khi-muon-tong-hop-nhung-commit-vun-vat-truoc-day-thanh-mot-commit"><span class="toc-number">1.6.</span> <span class="toc-text">Sự cố 6： Khi muốn tổng hợp những commit vụn vặt trước đây thành một commit</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Su-co-７：-Khi-ban-muon-chia-commit-to-thanh-nhung-commit-nho-hon-mot-cach-thong-minh"><span class="toc-number">1.7.</span> <span class="toc-text">Sự cố ７： Khi bạn muốn chia commit to thành những commit nhỏ hơn một cách thông minh</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Su-co-８：-Khi-lo-tay-commit-nham-sang-mot-branch-khac"><span class="toc-number">1.8.</span> <span class="toc-text">Sự cố ８： Khi lỡ tay commit nhầm sang một branch khác</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Su-co-９：-Khi-muon-xoa-hoan-toan-cac-file-khong-can-thiet"><span class="toc-number">1.9.</span> <span class="toc-text">Sự cố ９： Khi muốn xoá hoàn toàn các file không cần thiết</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Su-co-10：-Khi-tam-thoi-can-tam-dung-cong-viec-hien-tai-va-chuyen-sang-mot-branch-khac"><span class="toc-number">1.10.</span> <span class="toc-text">Sự cố 10： Khi tạm thời cần tạm dừng công việc hiện tại và chuyển sang một branch khác</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Su-co-11：Khi-lo-tay-xoa-mat-mot-commit-cuc-ki-cuc-ki-quan-trong"><span class="toc-number">1.11.</span> <span class="toc-text">Sự cố 11：Khi lỡ tay xoá mất một commit cực kì cực kì quan trọng</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Su-co-12：-Khi-lo-tay-xoa-mat-branch-va-muon-lay-lai"><span class="toc-number">1.12.</span> <span class="toc-text">Sự cố 12： Khi lỡ tay xoá mất branch và muốn lấy lại</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Su-co-13-Khi-muon-thay-doi-mot-phan-noi-dung-commit"><span class="toc-number">1.13.</span> <span class="toc-text">Sự cố 13: Khi muốn thay đổi một phần nội dung commit</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Su-co-14-Khi-co-conflict-trong-qua-trinh-rebase"><span class="toc-number">1.14.</span> <span class="toc-text">Sự cố 14: Khi có conflict trong quá trình rebase</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Su-co-15-Khi-da-merge-nhung-lai-muon-tro-lai-nhu-luc-truoc"><span class="toc-number">1.15.</span> <span class="toc-text">Sự cố 15: Khi đã merge nhưng lại muốn trở lại như lúc trước</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#O-tren-Remote"><span class="toc-number">2.</span> <span class="toc-text">Ở trên Remote</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Su-co-16-Khi-pull-tu-remote-ve-thi-co-qua-nhieu-conflict-nen-tam-thoi-muon-tro-lai-nhu-cu"><span class="toc-number">2.1.</span> <span class="toc-text">Sự cố 16: Khi pull từ remote về thì có quá nhiều conflict nên tạm thời muốn trở lại như cũ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Su-co-17-Lo-tay-push-force-len-master-tren-remote"><span class="toc-number">2.2.</span> <span class="toc-text">Sự cố 17: Lỡ tay push force lên master trên remote</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Su-co-18-Sau-khi-release-phat-hien-thay-co-bug-va-muon-tro-ve-nhu-cu"><span class="toc-number">2.3.</span> <span class="toc-text">Sự cố 18: Sau khi release phát hiện thấy có bug và muốn trở về như cũ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Su-co-19：Khi-sau-khi-chuyen-lai-va-da-commit-them-mot-so-commit-moi-nhung-khong-the-merge-lai-duoc"><span class="toc-number">2.4.</span> <span class="toc-text">Sự cố 19：Khi sau khi chuyển lại và đã commit thêm một số commit mới nhưng không thể merge lại được</span></a></li></ol></li></ol>
                </div>
            </div>
            
            
        </div>
    </div>
</div>

    </div>
</div>
    <div id="back-to-top" class="animated fadeIn faster">
        <div class="flow"></div>
        <span class="percentage animated fadeIn faster">0%</span>
        <span class="iconfont icon-top02 animated fadeIn faster"></span>
    </div>
</body>
<footer>
    <p class="copyright" id="copyright">
        &copy; 2020
        <span class="gradient-text">
            Anph
        </span>.
        Powered by <a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a>
        Theme
        <span class="gradient-text">
            <a href="https://github.com/TriDiamond/hexo-theme-obsidian" title="Obsidian" target="_blank" rel="noopener">Obsidian</a>
        </span>
        <small><a href="https://github.com/TriDiamond/hexo-theme-obsidian/blob/master/CHANGELOG.md" title="v1.4.3" target="_blank" rel="noopener">v1.4.3</a></small>
    </p>
</footer>

<script type="text/javascript" src="https://cdn.bootcss.com/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<script>
  MathJax.Hub.Config({
    "HTML-CSS": {
      preferredFont: "TeX",
      availableFonts: ["STIX", "TeX"],
      linebreaks: {
        automatic: true
      },
      EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50)
    },
    tex2jax: {
      inlineMath: [
        ["$", "$"],
        ["\\(", "\\)"]
      ],
      processEscapes: true,
      ignoreClass: "tex2jax_ignore|dno",
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      noUndefined: {
        attributes: {
          mathcolor: "red",
          mathbackground: "#FFEEEE",
          mathsize: "90%"
        }
      },
      Macros: {
        href: "{}"
      }
    },
    messageStyle: "none"
  });
</script>
<script>
  function initialMathJax() {
    MathJax.Hub.Queue(function () {
      var all = MathJax.Hub.getAllJax(),
        i;
      // console.log(all);
      for (i = 0; i < all.length; i += 1) {
        console.log(all[i].SourceElement().parentNode)
        all[i].SourceElement().parentNode.className += ' has-jax';
      }
    });
  }

  function reprocessMathJax() {
    if (typeof MathJax !== 'undefined') {
      MathJax.Hub.Queue(["Typeset", MathJax.Hub]);
    }
  }
</script>



    <link rel="stylesheet" href="//cdn.bootcss.com/gitalk/1.5.0/gitalk.min.css">
    <script src="//cdn.bootcss.com/gitalk/1.5.0/gitalk.min.js"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/obsidian.js"></script>
<script src="/js/jquery.truncate.js"></script>
<script src="/js/search.js"></script>
<script src="//cdn.bootcss.com/typed.js/2.0.10/typed.min.js"></script>
<script src="//cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script>

<script src="https://cdn.bootcss.com/codemirror/5.48.4/codemirror.min.js"></script>

    <script src="//cdn.bootcss.com/codemirror/5.48.4/mode/javascript/javascript.min.js"></script>

    <script src="//cdn.bootcss.com/codemirror/5.48.4/mode/css/css.min.js"></script>

    <script src="//cdn.bootcss.com/codemirror/5.48.4/mode/xml/xml.min.js"></script>

    <script src="//cdn.bootcss.com/codemirror/5.48.4/mode/htmlmixed/htmlmixed.min.js"></script>

    <script src="//cdn.bootcss.com/codemirror/5.48.4/mode/clike/clike.min.js"></script>

    <script src="//cdn.bootcss.com/codemirror/5.48.4/mode/php/php.min.js"></script>

    <script src="//cdn.bootcss.com/codemirror/5.48.4/mode/shell/shell.min.js"></script>

    <script src="//cdn.bootcss.com/codemirror/5.48.4/mode/python/python.min.js"></script>



    <script src="/js/busuanzi.min.js"></script>
    <script>
        $(document).ready(function () {
            if ($('span[id^="busuanzi_"]').length) {
                initialBusuanzi();
            }
        });
    </script>


<link rel="stylesheet" href="//cdn.bootcss.com/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="//cdn.bootcss.com/photoswipe/4.1.3/default-skin/default-skin.min.css">
<script src="//cdn.bootcss.com/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="//cdn.bootcss.com/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>

<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>



    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="//www.googletagmanager.com/gtag/js?id=UA-149874671-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-149874671-1');
    </script>





<script>
    function initialTyped () {
        var typedTextEl = $('.typed-text');
        if (typedTextEl && typedTextEl.length > 0) {
            var typed = new Typed('.typed-text', {
                strings: ["Think like an artist, develop like an artisan", "艺术家思维去思考问题，工匠创造精神去开发"],
                typeSpeed: 90,
                loop: true,
                loopCount: Infinity,
                backSpeed: 20,
            });
        }
    }

    if ($('.article-header') && $('.article-header').length) {
        $(document).ready(function () {
            initialTyped();
        });
    }
</script>




</html>
